# Mermaid Server Environment Configuration
# Copy this file to .env and modify the values as needed

# Server Configuration
PORT=8080
CONTEXT_PATH=/

# Cache Configuration
CACHE_ENABLED=true
CACHE_DIR=./cache
CACHE_TTL=86400000
# Cache TTL in milliseconds (86400000 = 24 hours)

# File System Configuration
TEMP_DIR=./temp
MAX_REQUEST_SIZE=10mb

# Default Mermaid Options
DEFAULT_THEME=default
# Options: default, dark, forest, neutral
DEFAULT_BACKGROUND=white
# Options: white, transparent, or any hex color like #ffffff
DEFAULT_WIDTH=800
DEFAULT_HEIGHT=600

# Browser Configuration
BROWSER_TIMEOUT=30000
# Browser timeout in milliseconds
ENABLE_BROWSER_CACHE=true
# Enable HTTP cache headers for browsers

# Browser idle shutdown (milliseconds). Close browser if unused for this duration. 0 = never close automatically
BROWSER_IDLE_MAX_MS=300000

# Puppeteer headless mode (new|true|false). 'new' enables the Chrome new headless implementation.
BROWSER_HEADLESS_MODE=new


# Example configurations for different environments:

# Development
# PORT=3000
# CACHE_ENABLED=false
# DEFAULT_THEME=dark

# Production
# PORT=8080
# CACHE_ENABLED=true
# CACHE_TTL=604800000
# CONTEXT_PATH=/api/mermaid

# Docker
# CACHE_DIR=/app/cache
# TEMP_DIR=/tmp/mermaid
# BROWSER_TIMEOUT=60000
